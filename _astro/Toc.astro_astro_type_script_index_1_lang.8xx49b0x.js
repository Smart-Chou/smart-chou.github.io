function te(e){const n=[].forEach,u=[].some,s=typeof window<"u"&&document.body,c=" ";let a,C=!0,S=0;function m(t,o){const i=o.appendChild(d(t));if(t.children.length){const f=h(t.isCollapsed);t.children.forEach(H=>{m(H,f)}),i.appendChild(f)}}function l(t,o){const f=h(!1);if(o.forEach(H=>{m(H,f)}),a=t||a,a!==null)return a.firstChild&&a.removeChild(a.firstChild),o.length===0?a:a.appendChild(f)}function d(t){const o=document.createElement("li"),i=document.createElement("a");return e.listItemClass&&o.setAttribute("class",e.listItemClass),e.onClick&&(i.onclick=e.onClick),e.includeTitleTags&&i.setAttribute("title",t.textContent),e.includeHtml&&t.childNodes.length?n.call(t.childNodes,f=>{i.appendChild(f.cloneNode(!0))}):i.textContent=t.textContent,i.setAttribute("href",`${e.basePath}#${t.id}`),i.setAttribute("class",`${e.linkClass+c}node-name--${t.nodeName}${c}${e.extraLinkClasses}`),o.appendChild(i),o}function h(t){const o=e.orderedList?"ol":"ul",i=document.createElement(o);let f=e.listClass+c+e.extraListClasses;return t&&(f=f+c+e.collapsibleClass,f=f+c+e.isCollapsedClass),i.setAttribute("class",f),i}function g(){const t=w(),o=document.querySelector(e.positionFixedSelector);e.fixedSidebarOffset==="auto"&&(e.fixedSidebarOffset=a.offsetTop),t>e.fixedSidebarOffset?o.className.indexOf(e.positionFixedClass)===-1&&(o.className+=c+e.positionFixedClass):o.className=o.className.replace(c+e.positionFixedClass,"")}function p(t){let o=0;return t!==null&&(o=t.offsetTop,e.hasInnerContainers&&(o+=p(t.offsetParent))),o}function b(t,o){return t&&t.className!==o&&(t.className=o),t}function E(t,o){e.positionFixedSelector&&g();const i=t,f=o?.target?.getAttribute?o?.target?.getAttribute("href"):null,H=f&&f.charAt(0)==="#"?j(f.replace("#","")):!1,I=C||H;if(o&&S<5&&S++,I&&a&&i.length>0){const J=A(i),K=a.querySelector(`.${e.activeLinkClass}`),q=J.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/\\@])/g,"\\$1"),$=window.location.hash.replace("#","");let M=q;const V=_();f&&H?M=f.replace("#",""):$&&$!==q&&V&&(j(q)||S<=2)&&(M=$);const L=a.querySelector(`.${e.linkClass}[href="${e.basePath}#${M}"]`);if(K===L)return;const X=a.querySelectorAll(`.${e.linkClass}`);n.call(X,v=>{b(v,v.className.replace(c+e.activeLinkClass,""))});const Z=a.querySelectorAll(`.${e.listItemClass}`);n.call(Z,v=>{b(v,v.className.replace(c+e.activeListItemClass,""))}),L&&L.className.indexOf(e.activeLinkClass)===-1&&(L.className+=c+e.activeLinkClass);const F=L?.parentNode;F&&F.className.indexOf(e.activeListItemClass)===-1&&(F.className+=c+e.activeListItemClass);const ee=a.querySelectorAll(`.${e.listClass}.${e.collapsibleClass}`);n.call(ee,v=>{v.className.indexOf(e.isCollapsedClass)===-1&&(v.className+=c+e.isCollapsedClass)}),L?.nextSibling&&L.nextSibling.className.indexOf(e.isCollapsedClass)!==-1&&b(L.nextSibling,L.nextSibling.className.replace(c+e.isCollapsedClass,"")),x(L?.parentNode.parentNode)}}function x(t){return t&&t.className.indexOf(e.collapsibleClass)!==-1&&t.className.indexOf(e.isCollapsedClass)!==-1?(b(t,t.className.replace(c+e.isCollapsedClass,"")),x(t.parentNode.parentNode)):t}function W(t){const o=t.target||t.srcElement;typeof o.className!="string"||o.className.indexOf(e.linkClass)===-1||(C=!1)}function Q(){C=!0}function Y(){return C}function j(t){const o=O();return(document?.getElementById(t)).offsetTop>o.offsetHeight-o.clientHeight*1.4-e.bottomModeThreshold}function _(){const t=O(),o=t.scrollHeight>t.clientHeight,i=w()+t.clientHeight>t.offsetHeight-e.bottomModeThreshold;return o&&i}function O(){let t;return e.scrollContainer&&document.querySelector(e.scrollContainer)?t=document.querySelector(e.scrollContainer):t=document.documentElement||s,t}function w(){return O()?.scrollTop||0}function A(t,o=w()){let i;return u.call(t,(f,H)=>{if(p(f)>o+e.headingsOffset+10){const I=H===0?H:H-1;return i=t[I],!0}if(H===t.length-1)return i=t[t.length-1],!0}),i}function G(t){const o=w(),i=A(t,o),f=_();if((!i||o<5)&&!f)window.location.hash==="#"||window.location.hash===""||window.history.pushState(null,null,"#");else if(i&&!f){const H=`#${i.id}`;window.location.hash!==H&&window.history.pushState(null,null,H)}}return{enableTocAnimation:Q,disableTocAnimation:W,render:l,updateToc:E,getCurrentlyHighlighting:Y,getTopHeader:A,getScrollTop:w,updateUrlHashForHeader:G}}const le={tocSelector:".js-toc",tocElement:null,contentSelector:".js-toc-content",contentElement:null,headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,enableUrlHashUpdateOnScroll:!1,scrollHandlerType:"auto",scrollHandlerTimeout:50,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,includeTitleTags:!1,onClick:function(e){},orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1,tocScrollingWrapper:null,tocScrollOffset:30,bottomModeThreshold:30};function ne(e){const n=[].reduce;function u(l){return l[l.length-1]}function s(l){return+l.nodeName.toUpperCase().replace("H","")}function c(l){try{return l instanceof window.HTMLElement||l instanceof window.parent.HTMLElement}catch{return l instanceof window.HTMLElement}}function a(l){if(!c(l))return l;if(e.ignoreHiddenElements&&(!l.offsetHeight||!l.offsetParent))return null;const d=l.getAttribute("data-heading-label")||(e.headingLabelCallback?String(e.headingLabelCallback(l.innerText)):(l.innerText||l.textContent).trim()),h={id:l.id,children:[],nodeName:l.nodeName,headingLevel:s(l),textContent:d};return e.includeHtml&&(h.childNodes=l.childNodes),e.headingObjectCallback?e.headingObjectCallback(h,l):h}function C(l,d){const h=a(l),g=h.headingLevel;let p=d,b=u(p);const E=b?b.headingLevel:0;let x=g-E;for(;x>0&&(b=u(p),!(b&&g===b.headingLevel));)b&&b.children!==void 0&&(p=b.children),x--;return g>=e.collapseDepth&&(h.isCollapsed=!0),p.push(h),p}function S(l,d){let h=d;e.ignoreSelector&&(h=d.split(",").map(function(p){return`${p.trim()}:not(${e.ignoreSelector})`}));try{return l.querySelectorAll(h)}catch{return console.warn(`Headers not found with selector: ${h}`),null}}function m(l){return n.call(l,function(h,g){const p=a(g);return p&&C(p,h.nest),h},{nest:[]})}return{nestHeadingsArray:m,selectHeadings:S}}function oe(e){var n=e.duration,u=e.offset;if(typeof window>"u"||typeof location>"u")return;var s=location.hash?C(location.href):location.href;c();function c(){document.body.addEventListener("click",m,!1);function m(l){!a(l.target)||l.target.className.indexOf("no-smooth-scroll")>-1||l.target.href.charAt(l.target.href.length-2)==="#"&&l.target.href.charAt(l.target.href.length-1)==="!"||l.target.className.indexOf(e.linkClass)===-1||re(l.target.hash,{duration:n,offset:u,callback:function(){S(l.target.hash)}})}}function a(m){return m.tagName.toLowerCase()==="a"&&(m.hash.length>0||m.href.charAt(m.href.length-1)==="#")&&(C(m.href)===s||C(m.href)+"#"===s)}function C(m){return m.slice(0,m.lastIndexOf("#"))}function S(m){var l=document.getElementById(m.substring(1));l&&(/^(?:a|select|input|button|textarea)$/i.test(l.tagName)||(l.tabIndex=-1),l.focus())}}function re(e,n){var u=window.pageYOffset,s={duration:n.duration,offset:n.offset||0,callback:n.callback,easing:n.easing||h},c=document.querySelector('[id="'+decodeURI(e).split("#").join("")+'"]')||document.querySelector('[id="'+e.split("#").join("")+'"]'),a=typeof e=="string"?s.offset+(e?c&&c.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):e,C=typeof s.duration=="function"?s.duration(a):s.duration,S,m;requestAnimationFrame(function(g){S=g,l(g)});function l(g){m=g-S,window.scrollTo(0,s.easing(m,u,a,C)),m<C?requestAnimationFrame(l):d()}function d(){window.scrollTo(0,u+a),typeof s.callback=="function"&&s.callback()}function h(g,p,b,E){return g/=E/2,g<1?b/2*g*g+p:(g--,-b/2*(g*(g-2)-1)+p)}}function ce(e){const n=e.tocScrollingWrapper||e.tocElement||document.querySelector(e.tocSelector);if(n&&n.scrollHeight>n.clientHeight){const u=n.querySelector(`.${e.activeListItemClass}`);if(u){const c=u.offsetTop-e.tocScrollOffset;n.scrollTop=c>0?c:0}}}let r={},T,P,k,y,N;function R(e){let n=!1;r=ie(le,e||{}),r.scrollSmooth&&(r.duration=r.scrollSmoothDuration,r.offset=r.scrollSmoothOffset,oe(r)),T=te(r),P=ne(r),U();const u=ue(r);if(u===null)return;const s=z(r);if(s===null||(k=P.selectHeadings(u,r.headingSelector),k===null))return;const a=P.nestHeadingsArray(k).nest;if(!r.skipRendering)T.render(s,a);else return this;let C=!1;const S=r.scrollHandlerTimeout||r.throttleTimeout;y=((d,h)=>de(d,h,r.scrollHandlerType))(d=>{T.updateToc(k,d),!r.disableTocScrollSync&&!C&&ce(r),r.enableUrlHashUpdateOnScroll&&n&&T.getCurrentlyHighlighting()&&T.updateUrlHashForHeader(k);const h=d?.target?.scrollingElement?.scrollTop===0;(d&&(d.eventPhase===0||d.currentTarget===null)||h)&&(T.updateToc(k),r.scrollEndCallback?.(d))},S),n||(y(),n=!0),window.onhashchange=window.onscrollend=d=>{y(d)},r.scrollContainer&&document.querySelector(r.scrollContainer)?(document.querySelector(r.scrollContainer).addEventListener("scroll",y,!1),document.querySelector(r.scrollContainer).addEventListener("resize",y,!1)):(document.addEventListener("scroll",y,!1),document.addEventListener("resize",y,!1));let l=null;N=B(d=>{C=!0,r.scrollSmooth&&T.disableTocAnimation(d),T.updateToc(k,d),l&&clearTimeout(l),l=setTimeout(()=>{T.enableTocAnimation()},r.scrollSmoothDuration),setTimeout(()=>{C=!1},r.scrollSmoothDuration+100)},r.throttleTimeout),r.scrollContainer&&document.querySelector(r.scrollContainer)?document.querySelector(r.scrollContainer).addEventListener("click",N,!1):document.addEventListener("click",N,!1)}function U(){const e=z(r);e!==null&&(r.skipRendering||e&&(e.innerHTML=""),r.scrollContainer&&document.querySelector(r.scrollContainer)?(document.querySelector(r.scrollContainer).removeEventListener("scroll",y,!1),document.querySelector(r.scrollContainer).removeEventListener("resize",y,!1),T&&document.querySelector(r.scrollContainer).removeEventListener("click",N,!1)):(document.removeEventListener("scroll",y,!1),document.removeEventListener("resize",y,!1),T&&document.removeEventListener("click",N,!1)))}function se(e){U(),R(e||r)}const ae=Object.prototype.hasOwnProperty;function ie(...e){const n={};for(let u=0;u<e.length;u++){const s=e[u];for(const c in s)ae.call(s,c)&&(n[c]=s[c])}return n}function B(e,n,u){n||(n=250);let s,c;return function(...a){const C=this,S=+new Date;s&&S<s+n?(clearTimeout(c),c=setTimeout(()=>{s=S,e.apply(C,a)},n)):(s=S,e.apply(C,a))}}function D(e,n){let u;return(...s)=>{clearTimeout(u),u=setTimeout(()=>e.apply(this,s),n)}}function de(e,n,u="auto"){switch(u){case"debounce":return D(e,n);case"throttle":return B(e,n);default:return n<334?D(e,n):B(e,n)}}function ue(e){try{return e.contentElement||document.querySelector(e.contentSelector)}catch{return console.warn(`Contents element not found: ${e.contentSelector}`),null}}function z(e){try{return e.tocElement||document.querySelector(e.tocSelector)}catch{return console.warn(`TOC element not found: ${e.tocSelector}`),null}}const fe={destroy:U,init:R,refresh:se};document.addEventListener("astro:page-load",()=>{fe.init({tocSelector:".toc__content",contentSelector:".post",headingSelector:"h2, h3",headingsOffset:80,scrollSmoothOffset:-80})});
